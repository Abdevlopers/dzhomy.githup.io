
<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>DZHomy - Ù…Ù†ØµØ© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</title>
<style>
    body {
      font-family: 'Tajawal', sans-serif;
      margin: 0;
      background-color: #f8f9fa;
      color: #222;
    }
    /* From Uiverse.io by muhammad_1180 */ 
.background {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  background: white;
  background: radial-gradient(125% 125% at 50% 10%, #fff 40%, #0072ff 100%);
  z-index: -10;
}

    header {
      background: white;
      background: radial-gradient(125% 125% at 50% 10%, #0072ff 40%, #fff 100%);
      color: white;
      padding: 1rem 2rem;
      text-align: center;
      align-items: center;
      font-size: 1.5rem;
      height: 50px;
    }
    .logo {
      background: white;
      background: radial-gradient(125% 125% at 0% 20%, #0072ff 40%, #fff 50%);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      width: 150px;
      height: 150px;
      position: relative;
      align-items: center;
      justify-content: center;
      
      border-radius: 50%;

    }
    .logo img{
      width: 150px;
      height: 150px;
    }
    .logo_txt{
      margin-top: -40px;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      background-color: #fff;
      padding: 0.5rem;
      height: 10px;
    }
    nav button {
      width: 131px;
      height: 51px;
      margin-top: -40px;
      border-radius: 15px;
      cursor: pointer;
      transition: 0.3s ease;
      background: linear-gradient(to bottom right,#2e8eff 0%,rgba(46, 142, 255, 0) 30%);
      background-color: rgba(46, 142, 255, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    nav button:hover{
      background-color: rgba(46, 142, 255, 0.7);
      box-shadow: 0 0 10px rgba(46, 142, 255, 0.5);
     outline: none;
    }
    section {
      display: none;
      padding: 2rem;
    }
    section.active {
      display: block;
    }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 1.5rem;
      margin-bottom: 2rem;
      max-width: 600px;
      margin: 1rem auto;
    }
    input, select {
      width: 100%;
      padding: 0.5rem;
      margin: 0.5rem 0 1rem;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    button.submit {
      width: 100%;
      background-color: #28a745;
      color: white;
      padding: 0.75rem;
      border: none;
      border-radius: 1rem;
      font-size: 1rem;
    }
    footer {
      text-align: center;
      padding: 1rem;
      background: #222;
      color: #ccc;
      margin-top: 2rem;
    }
  </style>
  <style>

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1rem;
}
.card {
  background-color: #fff;
  padding: 1rem;
  max-width: 350px;
  border-radius: 0.5rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}
.card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
}
.card h4 {
  font-size: 1.25rem;
  line-height: 1.75rem;
  font-weight: 600;
  text-align: center;
  color: #000;
}
.card p {
  font-size: 1.25rem;
  line-height: 1.75rem;
  font-weight: 600;
  text-align: center;
  color: #000;
}
.info_txt{
  font-size: 10px;
  margin-top: -10px;
  margin-bottom: 10px;
  margin-left: 5px;
  text-align: left;
  color: red;
}
.card .social, .card .views {
  margin-top: 0.5rem;
  font-size: 13px;
  color: #666;
}
form input, form button {
  background-color: #fff;
  padding: 1rem;
  padding-right: 3rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  width: 280px;
  border-radius: 0.5rem;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}
form button {
  background: #008cba;
  color: white;
  border: none;
  cursor: pointer;
}
form button:hover {
  background: #007299;
}

</style>
</head>
<body>
  <!-- From Uiverse.io by muhammad_1180 --> 
<div class="background"></div>

<header>
  <div class="logo"><img src="img/logo.png"></div>
  <div class="logo_txt">DZHomy - Ù…Ù†ØµØ© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</div>
</header>
<nav>

<button onclick="showSection('login')" class="logout-btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
<button onclick="showSection('register')" class="register-btn">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
<button onclick="showSection('profile')">Ù…Ù„ÙÙŠ</button>
<button onclick="showSection('ads')">Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ</button>
<button onclick="showSection('properties')">Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</button>
<button onclick="showSection('contact')">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
<button id="logoutBtn" onclick="logout()" style="display:none;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button></nav>
<main>

<!-- ğŸ” ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù… -->
<section class="filters" style="padding: 20px; background: #f9f9f9;">
  <h2>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¨ÙŠØª Ø£Ø­Ù„Ø§Ù…Ùƒ</h2>
  <form id="advancedSearchForm" style="display: block; flex-wrap: wrap; gap: 10px;">
    <input type="text" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" name="city" style="flex: 1;" />
    <input type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø¯Ù†Ù‰" name="minPrice" style="flex: 1;" />
    <input type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ù‚ØµÙ‰" name="maxPrice" style="flex: 1;" />
    <select name="type" style="flex: 1;">
      <option value="">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±</option>
      <option value="Ø´Ù‚Ø©">Ø´Ù‚Ø©</option>
      <option value="ÙÙŠÙ„Ø§">ÙÙŠÙ„Ø§</option>
      <option value="Ù…Ù†Ø²Ù„">Ù…Ù†Ø²Ù„</option>
    </select>
    <button type="submit">Ø¨Ø­Ø«</button>
  </form>
</section>

<section class="card active" id="login">
<h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
<form id="loginForm">
<input name="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required="" type="email"/>
<input name="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required="" type="password"/>
<div class="info_txt" id="info_txt" style="display:none;">enter you information </div>
<button class="submit" type="submit">Ø¯Ø®ÙˆÙ„</button>
</form>
</section>
<section class="card" id="register">
<h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
<form id="registerForm">

<input name="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required="" type="text"/>
<input name="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required="" type="email"/>
<input name="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required="" type="password"/>
<button class="submit" type="submit">ØªØ³Ø¬ÙŠÙ„</button>

</form>
</section>
<section class="card" id="profile">
<h2>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
<div id="profileInfo">ÙŠØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
</section>
<section class="card" id="ads">
<h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ</h2>
<div id="myAdsList"></div>

<h3>Ù†Ø´Ø± Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯</h3>
<form id="createAdForm">
<input name="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†" required="" type="text"/>
<input name="location" placeholder="Ø§Ù„Ù…ÙˆÙ‚Ø¹" required="" type="text"/>
<input name="price" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¯ÙŠÙ†Ø§Ø±" required="" type="number"/>
<input name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required="" type="text"/>
<input name="image" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±" required="" type="file"/>
<input name="social" placeholder="Ø±Ø§Ø¨Ø· ØªÙˆØ§ØµÙ„Ùƒ (ÙÙŠØ³Ø¨ÙˆÙƒ Ø£Ùˆ ÙˆØ§ØªØ³Ø§Ø¨)" type="text"/>
<button class="submit" type="submit">Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
</form>
<div id="myAdsList"></div>
</section>
<section class="card" id="properties">
<h2>Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ø¹Ø±ÙˆØ¶Ø©</h2>
<div class="cards" id="allAdsList"></div>
</section>
<section class="card" id="contact">
<h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
<form>
<input placeholder="Ø§Ø³Ù…Ùƒ" required="" type="text"/>
<input placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required="" type="email"/>
<textarea placeholder="Ø±Ø³Ø§Ù„ØªÙƒ..." style="width:100%;height:100px;"></textarea>
<button class="submit" type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
</form>
</section>
</main>
<footer>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© DZHomy 2025</footer>
<script>
  const showSection = (id) => {
    document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
    document.getElementById(id).classList.add("active");
  };

  document.getElementById("loginForm").addEventListener("submit", e => {
    e.preventDefault();
    const info = document.getElementById("info_txt");
    const email = e.target.email.value.trim();
    const password = e.target.password.value.trim();
    const users = JSON.parse(localStorage.getItem("users") || "[]");
    const user = users.find(u => u.email === email && u.password === password);
    if (user) {
      localStorage.setItem("loggedInUser", JSON.stringify(user));
      info.style.display = "block";
      info.style.color = "green";
      info.textContent = "âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­";
      alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­");
      showSection("profile");
      loadProfile();
      loadUserAds();
    } else {
      info.style.display = "block";
      info.style.color = "red";
      info.textContent = "âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©";

    }
  });

  document.getElementById("registerForm").addEventListener("submit", e => {
    e.preventDefault();

    const name = e.target.name.value.trim();
    const email = e.target.email.value.trim();
    const password = e.target.password.value.trim();
    let users = JSON.parse(localStorage.getItem("users") || "[]");
    if (users.some(u => u.email === email)) {
      alert("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø¨Ù„");
      return;
    } 
    const newUser = { name, email, password };
    users.push(newUser);
    localStorage.setItem("users", JSON.stringify(users));
    localStorage.setItem("loggedInUser", JSON.stringify(newUser));
    alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨");
    showSection("profile");
    loadProfile();
  });

  function loadProfile() {
    const user = JSON.parse(localStorage.getItem("loggedInUser"));
    if (!user) return;
    document.getElementById("profileInfo").innerHTML = `
      <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${user.name}</p>
      <p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> ${user.email}</p>
      <button class="submit" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
    `;
  }

  function logout() {
    localStorage.removeItem("loggedInUser");
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬");
    showSection("login");
  }

  function loadUserAds() {
    const user = JSON.parse(localStorage.getItem("loggedInUser"));
    const allAds = JSON.parse(localStorage.getItem("ads") || "[]");
    const myAds = allAds.filter(ad => ad.email === user.email);
    const container = document.getElementById("myAdsList");
    container.innerHTML = myAds.map(ad => `
      <div style="border:1px solid #ccc; padding:1rem; margin-bottom:1rem;">
        <h4>${ad.title}</h4>
        <p>${ad.description}</p>
      </div>
    `).join("") || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª";
  }

  window.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("loggedInUser"));
    if (user) {
      loadProfile();
      loadUserAds();
    }
  });
</script>
<section class="section" id="allAds"><h2>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h2><div class="cards" id="adsContainer"></div></section><section class="section" id="addAd"><form id="adForm"><h2>Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù‚Ø§Ø±</h2><input placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±" type="text"/><textarea placeholder="ÙˆØµÙ Ø§Ù„Ø¹Ù‚Ø§Ø±"></textarea><input placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" type="text"/><input placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" type="url"/><button type="submit">Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button></form></section><script>
function showSection(id) {
  document.querySelectorAll("section").forEach(sec => sec.style.display = "none");
  document.getElementById(id).style.display = "block";
}
window.onload = function() {
  showSection("home");
  const isLoggedIn = localStorage.getItem("userLoggedIn");
  if (isLoggedIn) {
    document.querySelectorAll(".login-btn, .register-btn").forEach(btn => btn.style.display = "none");
    document.querySelectorAll(".logout-btn").forEach(btn => btn.style.display = "inline-block");
  }
};
</script><script>
function login(email, password) {
  const stored = JSON.parse(localStorage.getItem("users") || "[]");
  const found = stored.find(u => u.email === email && u.password === password);
  if (found) {
    localStorage.setItem("userLoggedIn", email);
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­");
    location.reload();
  } else {
    alert("Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
  }
}
function register(email, password) {
  const users = JSON.parse(localStorage.getItem("users") || "[]");
  if (users.find(u => u.email === email)) return alert("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ù‹Ø§");
  users.push({ email, password });
  localStorage.setItem("users", JSON.stringify(users));
  alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨. Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.");
  showSection("login");
}
function logout() {
  localStorage.removeItem("userLoggedIn");
  location.reload();
}
</script><script>

document.getElementById("adForm")?.addEventListener("submit", async function(e) {
  e.preventDefault();

  const title = this.querySelector("input[placeholder='Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±']").value;
  const desc = this.querySelector("textarea").value;
  const phone = this.querySelector("input[placeholder='Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ']").value;
  const fileInput = this.querySelector("input[type='file']");
  const file = fileInput.files[0];

  if (!file) {
    alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©");
    return;
  }

  try {
    const fileName = Date.now() + "_" + file.name;
    const storageRef = storage.ref("ads/" + fileName);
    
    // Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
    await storageRef.put(file);
    const downloadURL = await storageRef.getDownloadURL();

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
    const ad = { title, desc, phone, img: downloadURL, views: 0, likes: 0 };
    const ads = JSON.parse(localStorage.getItem("ads") || "[]");
    ads.push(ad);
    localStorage.setItem("ads", JSON.stringify(ads));

    alert("âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­");
    this.reset(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    renderAds();

  } catch (error) {
    console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©:", error);
    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©");
  }
});

function renderAds() {
  const ads = JSON.parse(localStorage.getItem("ads") || "[]");
  const container = document.getElementById("adsContainer");
  if (!container) return;
  container.innerHTML = "";

  ads.forEach(ad => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${ad.img}" alt="Ø¹Ù‚Ø§Ø±" />
      <h3>${ad.title}</h3>
      <p>${ad.desc}</p>
      <a>ğŸ“ ${ad.phone}</a>
      <p>ğŸ‘ï¸ ${ad.views} | â¤ï¸ ${ad.likes}</p>
      <div class="social-icons">
        <a href="#"><i class="bx bxl-facebook"></i></a>
        <a href="#"><i class="bx bxl-whatsapp"></i></a>
      </div>
    `;
    container.appendChild(card);
  });
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.addEventListener("load", renderAds);
window.onload = function() {
  renderAds();
};
</script>  <script>

// Ù…ØµØ§Ø¯Ù‚Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬
function logout() {
    localStorage.removeItem("loggedInUser");
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬.");
    window.location.reload();
}

// Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
window.onload = () => {
    const user = localStorage.getItem("loggedInUser");
    if (user) {
        document.getElementById("logoutBtn").style.display = "inline-block";
        if (document.getElementById("loginBtn")) document.getElementById("loginBtn").style.display = "none";
        if (document.getElementById("signupBtn")) document.getElementById("signupBtn").style.display = "none";
    }
};

// Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (ØªØ®Ø²ÙŠÙ† ÙÙŠ localStorage)
document.addEventListener("DOMContentLoaded", () => {
    const adForm = document.getElementById("createAdForm");
    if (adForm) {
        adForm.addEventListener("submit", function(e) {
            e.preventDefault();
            const ad = {
                title: this.title.value,
                location: this.location.value,
                price: this.price.value,
                phone: this.phone.value,
                image: this.image.value,
                social: this.social.value,
                views: 0,
                likes: 0
            };
            const ads = JSON.parse(localStorage.getItem("ads") || "[]");
            ads.push(ad);
            localStorage.setItem("ads", JSON.stringify(ads));
            alert("ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­.");
            this.reset();
            displayMyAds();
            displayAllAds();
        });
    }

    displayMyAds();
    displayAllAds();
});

function displayMyAds() {
    const myAdsList = document.getElementById("myAdsList");
    if (!myAdsList) return;
    const ads = JSON.parse(localStorage.getItem("ads") || "[]");
    myAdsList.innerHTML = ads.map(ad => adCard(ad)).join("");
}

function displayAllAds() {
    const allAdsList = document.getElementById("allAdsList");
    if (!allAdsList) return;
    const ads = JSON.parse(localStorage.getItem("ads") || "[]");
    allAdsList.innerHTML = ads.map(ad => adCard(ad)).join("");
}

function adCard(ad) {
    return `
    <div class="card">
        <img src="${ad.image}" alt="Ø¹Ù‚Ø§Ø±">
        <h4>${ad.title}</h4>
        <p>ğŸ“ ${ad.location} â€” ğŸ’° ${ad.price} Ø¯Ø¬</p>
        <p class="social">ğŸ“ ${ad.phone} | ğŸŒ ${ad.social || "â€”"}</p>
        <p class="views">ğŸ‘ï¸ ${ad.views} | â¤ï¸ ${ad.likes}</p>
    </div>`;
}

</script>

<script>
let verificationCode = "";
document.addEventListener("DOMContentLoaded", () => {
  const sendCodeBtn = document.getElementById("sendCodeBtn");
  const verifyInput = document.getElementById("verificationCode");
  const registerBtn = document.getElementById("registerBtn");

  if (sendCodeBtn && verifyInput && registerBtn) {
    sendCodeBtn.addEventListener("click", () => {
      verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
      alert("ğŸ“© ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ: " + verificationCode);
    });

    verifyInput.addEventListener("input", () => {
      if (verifyInput.value === verificationCode) {
        registerBtn.disabled = false;
      } else {
        registerBtn.disabled = true;
      }
    });
  }
});
</script>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-auth.js";
  import { getFirestore, collection, addDoc, getDocs, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBQ5qNIYzVc2TZmwTCqaDfyUwWJeg0mx1o",
    authDomain: "dzhomy-d4e20.firebaseapp.com",
    projectId: "dzhomy-d4e20",
    storageBucket: "dzhomy-d4e20.firebasestorage.app",
    messagingSenderId: "78551474615",
    appId: "1:78551474615:web:795294795a4c06b4080832",
    measurementId: "G-LVJ74NM59L"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth();
  const db = getFirestore();

  // Example: Handle registration (replace this with your actual form logic)
  window.registerUser = async function(email, password) {
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­");
    } catch (error) {
      alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„: " + error.message);
    }
  };

  // Example: Handle login
  window.loginUser = async function(email, password) {
    try {
      await signInWithEmailAndPassword(auth, email, password);
      alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
    } catch (error) {
      alert("Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: " + error.message);
    }
  };

  // Monitor auth state
  onAuthStateChanged(auth, (user) => {
    const loggedIn = document.querySelectorAll('.logged-in');
    const loggedOut = document.querySelectorAll('.logged-out');
    if (user) {
      loggedIn.forEach(el => el.style.display = 'block');
      loggedOut.forEach(el => el.style.display = 'none');
    } else {
      loggedIn.forEach(el => el.style.display = 'none');
      loggedOut.forEach(el => el.style.display = 'block');
    }
  });
</script>

</body>
</html>
